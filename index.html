<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="icon" type="image/png" href="https://static.yuanbao.tencent.com/m/yuanbao-web/favicon@32.png" />
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,width=device-width,viewport-fit=cover" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://yuanbao.tencent.com" />
    <link rel="canonical" href="https://yuanbao.tencent.com" />
    <link rel="preconnect" href="https://snowflake.qq.com" />
    <link rel="preconnect" href="https://rumt-zh.com" />
    <link rel="preconnect" href="https://rdelivery.qq.com" />
    <meta name="description" content="元宝是腾讯推出的AI助手，提供DeepSeek+智能新体验，支持联网搜索公众号、视频号等多端设备。前往下载中心获取元宝软件，你的忠实AI助手。" />
    <meta name="keywords" content="元宝, 腾讯AI, DeepSeek+, AI助手, 下载中心, 多端设备" />
    <title>元宝-体验DeepSeek全新版-高效AI助手</title>
    <script>
      (function() {
        // 浏览器检测函数（不依赖任何外部模块）
        function checkBrowserVersion() {
          var userAgent = navigator.userAgent;
          var pathname = window.location.pathname;

          // 客户端UA还没种进去，先这样改
          if (pathname.indexOf('app/appscan') > -1 || pathname.indexOf('app/appQQlogin') > -1) {
            return true;
          }

          // PC客户端 - 检查 Tauri 或 UA
          if (window.__TAURI__ || /app\/tencent_yuanbao/i.test(userAgent)) {
            return true;
          }

          // MQQBrowser
          if (/MQQBrowser/i.test(userAgent)) {
            return true;
          }

          // 放开百度搜索
          if (userAgent.indexOf('Baiduspider/') > -1) {
            return true;
          }

          // 搜狗使用的chrome内核版本为80
          if (/SGWebviewClient/i.test(userAgent)) {
            return true;
          }

          // 企业微信
          if (/wxwork/i.test(userAgent)) {
            return true;
          }

          // 腾讯会议客户端
          if (/app\/tencent_wemeet/i.test(userAgent)) {
            return true;
          }

          // 放开微信内置浏览器（微信消息总结页）
          if (/MicroMessenger/i.test(userAgent)) {
            var searchParams = new URLSearchParams(window.location.search);
            if (searchParams.get('from') === 'wxMessage') {
              return true;
            }
            if (sessionStorage.getItem('WX_MESSAGE_IS_NEWS_LANDING_PAGE_KEY') === '1') {
              return true;
            }
          }

          // UA 白名单：包含这些标识的 UA，跳过 iOS 版本检测
          var uaWhitelist = ['YbScreenshot'];
          var isInWhitelist = uaWhitelist.some(function(keyword) {
            return userAgent.indexOf(keyword) !== -1;
          });

          // 检测 iOS 版本（包括 QQ 新闻等客户端，需要在 Safari 检测之前）
          // 白名单中的 UA 跳过 iOS 版本检测，继续执行后续浏览器检测
          var isIOS = /iPhone|iPad|iPod/i.test(userAgent);
          if (isIOS && !isInWhitelist) {
            // 检测 iOS 版本：iPhone OS 13_6_1 -> 13.6.1
            var iosVersionMatch = userAgent.match(/iPhone OS (\d+)[._](\d+)(?:[._](\d+))?/i);
            if (iosVersionMatch) {
              var majorVersion = parseInt(iosVersionMatch[1], 10);
              // iOS 15.0+ 才支持，iOS 14.x 及以下需要升级系统
              if (majorVersion < 15) {
                return -2; // iOS 14.x 及以下需要升级系统
              }
            }
          }

          // 检测Edge
          if (userAgent.indexOf('Edg/') > -1) {
            var edgeMatch = userAgent.match(/Edg\/(\d+)/);
            if (edgeMatch && edgeMatch.length > 1) {
              return parseInt(edgeMatch[1], 10) >= 84;
            }
          }

          // 检测Firefox
          if (userAgent.indexOf('Firefox/') > -1) {
            var firefoxMatch = userAgent.match(/Firefox\/(\d+)/);
            if (firefoxMatch && firefoxMatch.length > 1) {
              return parseInt(firefoxMatch[1], 10) >= 83;
            }
          }

          // 检测Chrome
          if (userAgent.indexOf('Chrome/') > -1 && userAgent.indexOf('Edg/') === -1) {
            var chromeMatch = userAgent.match(/Chrome\/(\d+)/);
            if (chromeMatch && chromeMatch.length > 1) {
              return parseInt(chromeMatch[1], 10) >= 84;
            }
          }

          // 检测Safari
          if (userAgent.indexOf('Safari/') > -1 && userAgent.indexOf('Chrome/') === -1) {
            var safariMatch = userAgent.match(/Version\/(\d+\.\d+)/);
            if (safariMatch && safariMatch.length > 1) {
              return parseFloat(safariMatch[1]) >= 14.1;
            }
          }

          // 移动端检测 replaceAll
          if (/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|IEMobile)/i.test(userAgent)) {
            return typeof String.prototype.replaceAll === 'function';
          }

          // 没匹配到的PC端
          return -1;
        }

        // 如果当前已经在浏览器提示页面，跳过检查避免死循环
        var pathname = window.location.pathname;
        if (pathname === '/browser-support.html' || pathname === '/browser-upgrade.html' || pathname === '/browser-os-upgrade.html') {
          return;
        }

        // 执行检测并跳转
        var checkBrowser = checkBrowserVersion();
        console.log('checkBrowser', checkBrowser);
        if (checkBrowser === -2) {
          // 系统版本过低，跳转到系统升级页面
          window.location.replace('/browser-os-upgrade.html');
        } else if (checkBrowser === -1) {
          // 不支持的浏览器
          window.location.replace('/browser-support.html');
        } else if (!checkBrowser) {
          // 浏览器版本过低
          window.location.replace('/browser-upgrade.html');
        }
      })();
    </script>
  </head>
  <body id="hunyuan-bot">
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
